{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import MarketOverview from'./MarketOverview';import Portfolio from'./Portfolio';import TradingPanel from'./TradingPanel';import TradingInsights from'./TradingInsights';import ActivityLog from'./ActivityLog';import Sidebar from'./Sidebar';import Header from'./Header';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{socket}=_ref;const{currentUser,logout}=useAuth();const navigate=useNavigate();const[marketData,setMarketData]=useState(null);const[activeTab,setActiveTab]=useState('dashboard');useEffect(()=>{if(!currentUser){navigate('/login');return;}// Listen for real-time market updates\nsocket.on('market-update',data=>{setMarketData(data);});// Initial data fetch\nconst fetchMarketData=async()=>{try{// In real app, fetch from API\nconst mockData={indices:{nifty:{value:18432.45,change:0.85},sensex:{value:62187.34,change:0.92}},stocks:[{symbol:'RELIANCE',name:'Reliance Industries',price:2542.75,change:3.45},{symbol:'TCS',name:'Tata Consultancy',price:3412.50,change:-2.15},{symbol:'HDFCBANK',name:'HDFC Bank',price:1642.30,change:1.87},{symbol:'INFY',name:'Infosys',price:1487.25,change:-1.25},{symbol:'ICICIBANK',name:'ICICI Bank',price:912.45,change:2.65}]};setMarketData(mockData);}catch(error){console.error('Error fetching market data:',error);}};fetchMarketData();return()=>{socket.off('market-update');};},[currentUser,navigate,socket]);if(!currentUser)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(Sidebar,{activeTab:activeTab,setActiveTab:setActiveTab,logout:logout}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col overflow-hidden\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 overflow-y-auto p-4 md:p-6\",children:activeTab==='dashboard'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MarketOverview,{marketData:marketData}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsx(Portfolio,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsx(TradingPanel,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6\",children:[/*#__PURE__*/_jsx(TradingInsights,{}),/*#__PURE__*/_jsx(ActivityLog,{})]})]})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","MarketOverview","Portfolio","TradingPanel","TradingInsights","ActivityLog","Sidebar","Header","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","_ref","socket","currentUser","logout","navigate","marketData","setMarketData","activeTab","setActiveTab","on","data","fetchMarketData","mockData","indices","nifty","value","change","sensex","stocks","symbol","name","price","error","console","off","className","children"],"sources":["C:/Projects/alladins_chirag/client/src/components/Dashboard/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport MarketOverview from './MarketOverview';\r\nimport Portfolio from './Portfolio';\r\nimport TradingPanel from './TradingPanel';\r\nimport TradingInsights from './TradingInsights';\r\nimport ActivityLog from './ActivityLog';\r\nimport Sidebar from './Sidebar';\r\nimport Header from './Header';\r\n\r\nconst Dashboard = ({ socket }) => {\r\n  const { currentUser, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [marketData, setMarketData] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('dashboard');\r\n\r\n  useEffect(() => {\r\n    if (!currentUser) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    \r\n    // Listen for real-time market updates\r\n    socket.on('market-update', (data) => {\r\n      setMarketData(data);\r\n    });\r\n    \r\n    // Initial data fetch\r\n    const fetchMarketData = async () => {\r\n      try {\r\n        // In real app, fetch from API\r\n        const mockData = {\r\n          indices: {\r\n            nifty: {\r\n              value: 18432.45,\r\n              change: 0.85\r\n            },\r\n            sensex: {\r\n              value: 62187.34,\r\n              change: 0.92\r\n            }\r\n          },\r\n          stocks: [\r\n            { symbol: 'RELIANCE', name: 'Reliance Industries', price: 2542.75, change: 3.45 },\r\n            { symbol: 'TCS', name: 'Tata Consultancy', price: 3412.50, change: -2.15 },\r\n            { symbol: 'HDFCBANK', name: 'HDFC Bank', price: 1642.30, change: 1.87 },\r\n            { symbol: 'INFY', name: 'Infosys', price: 1487.25, change: -1.25 },\r\n            { symbol: 'ICICIBANK', name: 'ICICI Bank', price: 912.45, change: 2.65 }\r\n          ]\r\n        };\r\n        setMarketData(mockData);\r\n      } catch (error) {\r\n        console.error('Error fetching market data:', error);\r\n      }\r\n    };\r\n    \r\n    fetchMarketData();\r\n    \r\n    return () => {\r\n      socket.off('market-update');\r\n    };\r\n  }, [currentUser, navigate, socket]);\r\n\r\n  if (!currentUser) return null;\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-100\">\r\n      <Sidebar activeTab={activeTab} setActiveTab={setActiveTab} logout={logout} />\r\n      \r\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n        <Header />\r\n        \r\n        <main className=\"flex-1 overflow-y-auto p-4 md:p-6\">\r\n          {activeTab === 'dashboard' && (\r\n            <>\r\n              <MarketOverview marketData={marketData} />\r\n              \r\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6\">\r\n                <div className=\"lg:col-span-2\">\r\n                  <Portfolio />\r\n                </div>\r\n                <div className=\"lg:col-span-1\">\r\n                  <TradingPanel />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6\">\r\n                <TradingInsights />\r\n                <ActivityLog />\r\n              </div>\r\n            </>\r\n          )}\r\n          \r\n          {/* Other tabs would go here */}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}